<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Lottery Optimizer</title>
  <link rel="stylesheet" href="/static/styles.css"/>
</head>
<body class="light">
  <div class="container">
    <h1>Lottery Optimizer</h1>

    <!-- Upload -->
    <section class="card">
      <h2>Bulk import history (CSV)</h2>
      <form id="csvForm" action="/store/import_csv" method="post" enctype="multipart/form-data">
        <div class="row" style="gap:12px;align-items:center;">
          <input id="csvFile" type="file" name="file" accept=".csv,text/csv"/>
          <label style="display:flex;align-items:center;gap:6px;">
            <input id="csvOverwrite" type="checkbox" name="overwrite"/> Overwrite existing data
          </label>
          <button class="btn" type="submit">Import CSV</button>
        </div>
      </form>
      <pre id="csvResult" class="mono"></pre>
    </section>

    <!-- Phase 1 -->
    <section class="card">
      <h2>Phase 1 — Evaluation</h2>
      <h3>The 2nd Newest jackpots — with per-game dates</h3>

      <div class="grid3">
        <div>
          <label>Mega Millions date</label>
          <input id="mmDate" type="date"/>
          <button class="btn" id="mmRetrieve">Retrieve</button>
          <pre id="mmLatest" class="mono"></pre>
        </div>
        <div>
          <label>Powerball date</label>
          <input id="pbDate" type="date"/>
          <button class="btn" id="pbRetrieve">Retrieve</button>
          <pre id="pbLatest" class="mono"></pre>
        </div>
        <div>
          <label>IL Lotto — Jackpot date</label>
          <input id="ilJpDate" type="date"/>
          <button class="btn" id="ilJpRetrieve">Retrieve</button>
          <pre id="ilJpLatest" class="mono"></pre>
        </div>
      </div>

      <div class="grid2" style="margin-top:10px;">
        <div>
          <label>IL Lotto — M1 date</label>
          <input id="ilM1Date" type="date"/>
          <button class="btn" id="ilM1Retrieve">Retrieve</button>
          <pre id="ilM1Latest" class="mono"></pre>
        </div>
        <div>
          <label>IL Lotto — M2 date</label>
          <input id="ilM2Date" type="date"/>
          <button class="btn" id="ilM2Retrieve">Retrieve</button>
          <pre id="ilM2Latest" class="mono"></pre>
        </div>
      </div>

      <h3 style="margin-top:14px;">Feeds (Lottery Defeated)</h3>
      <div class="grid3">
        <textarea id="FEED_MM" class="mono" placeholder="FEED_MM"></textarea>
        <textarea id="FEED_PB" class="mono" placeholder="FEED_PB"></textarea>
        <textarea id="FEED_IL" class="mono" placeholder="FEED_IL"></textarea>
      </div>

      <h3 style="margin-top:14px;">History blocks — choose the 3rd newest date, then “Load 20”</h3>
      <div class="grid3">
        <div>
          <label>HIST_MM_BLOB start date</label>
          <input id="histMmFrom" type="date"/>
          <button class="btn" id="histMmLoad">Load 20</button>
          <pre id="HIST_MM_BLOB" class="mono tall"></pre>
        </div>
        <div>
          <label>HIST_PB_BLOB start date</label>
          <input id="histPbFrom" type="date"/>
          <button class="btn" id="histPbLoad">Load 20</button>
          <pre id="HIST_PB_BLOB" class="mono tall"></pre>
        </div>
        <div>
          <label>HIST_IL_BLOB (JP / M1 / M2) — set each date, then “Load 20”</label>
          <div class="row" style="gap:6px;margin-bottom:6px;">
            <input id="histIlJpFrom" type="date" title="IL JP start date"/>
            <button class="btn xs" id="histIlJpLoad">Load JP</button>
            <input id="histIlM1From" type="date" title="IL M1 start date"/>
            <button class="btn xs" id="histIlM1Load">Load M1</button>
            <input id="histIlM2From" type="date" title="IL M2 start date"/>
            <button class="btn xs" id="histIlM2Load">Load M2</button>
          </div>
          <pre id="HIST_IL_JP_BLOB" class="mono"></pre>
          <pre id="HIST_IL_M1_BLOB" class="mono"></pre>
          <pre id="HIST_IL_M2_BLOB" class="mono"></pre>
        </div>
      </div>

      <div class="row" style="margin-top:14px;">
        <button id="runPhase1" class="btn primary">Run Phase 1</button>
        <span class="tiny" style="margin-left:8px;">Saved path:</span>
        <input id="phase1Path" type="text" readonly/>
      </div>

      <div class="card" style="margin-top:10px;">
        <div class="pill">Phase 1 — Results</div>
        <pre id="phase1Result" class="mono tall"></pre>
      </div>
    </section>
  </div>

  <script src="/static/app.js"></script>
</body>
</html>
