<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Lottery Optimizer</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <h1>Lottery Optimizer — Phase 1</h1>

  <!-- Upload -->
  <div class="card">
    <div class="row">
      <strong>Bulk import history (CSV)</strong>
      <label class="tiny muted">Headers: game,draw_date,tier,n1,n2,n3,n4,n5,bonus</label>
    </div>
    <div class="row">
      <input id="csvFile" type="file" />
      <label class="row tiny"><input id="overwrite" type="checkbox" checked /> Overwrite existing data</label>
      <button id="btnImport" class="btn">Import CSV</button>
    </div>
    <pre id="importLog" class="log tiny muted">Select CSV then click Import.</pre>
  </div>

  <div class="grid2">
    <!-- Per-game 2nd newest dates & retrieve -->
    <div class="card">
      <div class="pill">The 2nd Newest jackpots — with per-game dates</div>

      <label class="tiny muted">Mega Millions date</label>
      <div class="row">
        <input id="mmDate" type="text" placeholder="MM/DD/YYYY" />
        <button id="mmRetrieve" class="btn">Retrieve</button>
      </div>
      <textarea id="mmPreview" rows="2" placeholder="[[mains..], bonus]"></textarea>

      <label class="tiny muted">Powerball date</label>
      <div class="row">
        <input id="pbDate" type="text" placeholder="MM/DD/YYYY" />
        <button id="pbRetrieve" class="btn">Retrieve</button>
      </div>
      <textarea id="pbPreview" rows="2" placeholder="[[mains..], bonus]"></textarea>

      <div class="line"></div>
      <div class="tiny muted">IL Lotto — select dates then “Retrieve” (bonus is null)</div>

      <label class="tiny muted">IL Jackpot</label>
      <div class="row">
        <input id="ilJPDate" type="text" placeholder="MM/DD/YYYY" />
        <button id="ilJPRetrieve" class="btn">Retrieve</button>
      </div>
      <textarea id="ilJPPreview" rows="1" placeholder="[[mains..], null]"></textarea>

      <label class="tiny muted">IL Million 1</label>
      <div class="row">
        <input id="ilM1Date" type="text" placeholder="MM/DD/YYYY" />
        <button id="ilM1Retrieve" class="btn">Retrieve</button>
      </div>
      <textarea id="ilM1Preview" rows="1" placeholder="[[mains..], null]"></textarea>

      <label class="tiny muted">IL Million 2</label>
      <div class="row">
        <input id="ilM2Date" type="text" placeholder="MM/DD/YYYY" />
        <button id="ilM2Retrieve" class="btn">Retrieve</button>
      </div>
      <textarea id="ilM2Preview" rows="1" placeholder="[[mains..], null]"></textarea>
    </div>

    <!-- Feeds (paste latest when you run) -->
    <div class="card">
      <div class="pill">Feeds (Lottery Defeated) — paste the most recent feeds when you run</div>
      <div class="grid3">
        <div>
          <div class="tiny muted">FEED_MM</div>
          <textarea id="feedMM" rows="9" placeholder="Top 8 hot numbers:..."></textarea>
        </div>
        <div>
          <div class="tiny muted">FEED_PB</div>
          <textarea id="feedPB" rows="9" placeholder="Top 8 hot numbers:..."></textarea>
        </div>
        <div>
          <div class="tiny muted">FEED_IL</div>
          <textarea id="feedIL" rows="9" placeholder="Top 8 hot numbers:..."></textarea>
        </div>
      </div>
    </div>
  </div>

  <!-- History blobs -->
  <div class="card">
    <div class="pill">History (use 3rd newest date → “Load 20”)</div>
    <div class="grid3">
      <!-- MM -->
      <div>
        <label class="tiny muted">HIST_MM_BLOB start date</label>
        <div class="row">
          <input id="histMMDate" type="text" placeholder="MM/DD/YYYY" />
          <button id="loadMM" class="btn">Load 20</button>
        </div>
        <textarea id="histMM" rows="8" placeholder="mm-dd-yy  n1-n2-n3-n4-n5  MB"></textarea>
      </div>
      <!-- PB -->
      <div>
        <label class="tiny muted">HIST_PB_BLOB start date</label>
        <div class="row">
          <input id="histPBDate" type="text" placeholder="MM/DD/YYYY" />
          <button id="loadPB" class="btn">Load 20</button>
        </div>
        <textarea id="histPB" rows="8" placeholder="mm-dd-yy  n1-n2-n3-n4-n5  PB"></textarea>
      </div>
      <!-- IL JP/M1/M2 -->
      <div>
        <label class="tiny muted">HIST_IL_BLOB (JP / M1 / M2)</label>
        <div class="grid3">
          <div>
            <div class="row">
              <input id="histILJPDate" type="text" placeholder="MM/DD/YYYY" />
              <button id="loadILJP" class="btn">Load 20</button>
            </div>
            <textarea id="histILJP" rows="8" placeholder="mm-dd-yy  A-B-C-D-E-F"></textarea>
          </div>
          <div>
            <div class="row">
              <input id="histILM1Date" type="text" placeholder="MM/DD/YYYY" />
              <button id="loadILM1" class="btn">Load 20</button>
            </div>
            <textarea id="histILM1" rows="8" placeholder="mm-dd-yy  A-B-C-D-E-F"></textarea>
          </div>
          <div>
            <div class="row">
              <input id="histILM2Date" type="text" placeholder="MM/DD/YYYY" />
              <button id="loadILM2" class="btn">Load 20</button>
            </div>
            <textarea id="histILM2" rows="8" placeholder="mm-dd-yy  A-B-C-D-E-F"></textarea>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Run Phase 1 -->
  <div class="card">
    <div class="row">
      <button id="runPhase1" class="btn primary">Run Phase 1</button>
      <span class="tiny muted" style="margin-left:8px;">Saved path:</span>
      <input id="phase1Path" type="text" readonly />
      <span id="doneBadge" class="pill tiny" style="display:none;">Done</span>
    </div>
    <details style="margin-top:8px;">
      <summary class="tiny">Raw Phase-1 JSON (debug)</summary>
      <pre id="phase1Result" class="log"></pre>
    </details>
  </div>

  <script src="/static/app.js"></script>
</body>
</html>
