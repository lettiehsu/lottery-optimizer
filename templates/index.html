<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Lottery Optimizer</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <h1>Lottery Optimizer</h1>

  <!-- Upload CSV -->
  <div class="card">
    <div class="pill">Bulk import history (CSV)</div>
    <div class="row">
      <input id="csvFile" type="file" accept=".csv" />
      <label class="row"><input id="overwrite" type="checkbox" /> <span class="small">Overwrite existing data</span></label>
      <button id="btnImport" class="btn">Import CSV</button>
    </div>
    <pre id="importLog" class="log"></pre>
  </div>

  <!-- PHASE 1 INPUTS -->
  <div class="card">
    <div class="pill">Phase 1 — Evaluation</div>
    <div class="tiny muted">The 2nd Newest jackpots — with per-game dates</div>

    <!-- NJ row selectors -->
    <div class="grid grid-3">
      <div>
        <div class="tiny muted">Mega Millions date</div>
        <input id="mmDate" type="text" placeholder="MM/DD/YYYY" />
        <button id="mmRetrieve" class="btn">Retrieve</button>
        <textarea id="mmPreview" rows="2" placeholder='[[1,2,3,4,5], bonus]'></textarea>
      </div>
      <div>
        <div class="tiny muted">Powerball date</div>
        <input id="pbDate" type="text" placeholder="MM/DD/YYYY" />
        <button id="pbRetrieve" class="btn">Retrieve</button>
        <textarea id="pbPreview" rows="2" placeholder='[[1,2,3,4,5], bonus]'></textarea>
      </div>
      <div>
        <div class="tiny muted">IL Lotto — select dates then “Retrieve” (bonus is null)</div>
        <div class="grid grid-3 tinygap">
          <div>
            <div class="tiny muted">Jackpot date</div>
            <input id="ilJPDate" type="text" placeholder="MM/DD/YYYY" />
            <button id="ilJPRetrieve" class="btn">Retrieve</button>
            <textarea id="ilJPPreview" rows="2" placeholder='[[a,b,c,d,e,f], null]'></textarea>
          </div>
          <div>
            <div class="tiny muted">Million 1 date</div>
            <input id="ilM1Date" type="text" placeholder="MM/DD/YYYY" />
            <button id="ilM1Retrieve" class="btn">Retrieve</button>
            <textarea id="ilM1Preview" rows="2"></textarea>
          </div>
          <div>
            <div class="tiny muted">Million 2 date</div>
            <input id="ilM2Date" type="text" placeholder="MM/DD/YYYY" />
            <button id="ilM2Retrieve" class="btn">Retrieve</button>
            <textarea id="ilM2Preview" rows="2"></textarea>
          </div>
        </div>
      </div>
    </div>

    <!-- FEEDS -->
    <div class="grid grid-3" style="margin-top:12px;">
      <div>
        <div class="tiny muted">FEED_MM</div>
        <textarea id="FEED_MM" rows="5" placeholder="Paste Lottery Defeated MM text (optional)"></textarea>
      </div>
      <div>
        <div class="tiny muted">FEED_PB</div>
        <textarea id="FEED_PB" rows="5" placeholder="Paste Lottery Defeated PB text (optional)"></textarea>
      </div>
      <div>
        <div class="tiny muted">FEED_IL</div>
        <textarea id="FEED_IL" rows="5" placeholder="Paste IL text (optional)"></textarea>
      </div>
    </div>

    <!-- HISTORY LOAD 20 -->
    <div class="grid grid-3" style="margin-top:12px;">
      <div>
        <div class="tiny muted">HIST_MM_BLOB</div>
        <div class="row">
          <input id="mmHistDate" type="text" placeholder="3rd Newest MM date (MM/DD/YYYY)" />
          <button id="mmLoad20" class="btn">Load 20</button>
        </div>
        <textarea id="HIST_MM_BLOB" rows="10" placeholder="Will load 20 rows..."></textarea>
      </div>
      <div>
        <div class="tiny muted">HIST_PB_BLOB</div>
        <div class="row">
          <input id="pbHistDate" type="text" placeholder="3rd Newest PB date (MM/DD/YYYY)" />
          <button id="pbLoad20" class="btn">Load 20</button>
        </div>
        <textarea id="HIST_PB_BLOB" rows="10"></textarea>
      </div>
      <div>
        <div class="tiny muted">HIST_IL_BLOB (JP / M1 / M2) — set each date then Load 20</div>
        <div class="grid grid-3 tinygap">
          <div>
            <div class="tiny muted">JP</div>
            <div class="row">
              <input id="ilJPHistDate" type="text" placeholder="MM/DD/YYYY" />
              <button id="ilJPLoad20" class="btn">Load 20</button>
            </div>
            <textarea id="HIST_IL_JP_BLOB" rows="7"></textarea>
          </div>
          <div>
            <div class="tiny muted">M1</div>
            <div class="row">
              <input id="ilM1HistDate" type="text" placeholder="MM/DD/YYYY" />
              <button id="ilM1Load20" class="btn">Load 20</button>
            </div>
            <textarea id="HIST_IL_M1_BLOB" rows="7"></textarea>
          </div>
          <div>
            <div class="tiny muted">M2</div>
            <div class="row">
              <input id="ilM2HistDate" type="text" placeholder="MM/DD/YYYY" />
              <button id="ilM2Load20" class="btn">Load 20</button>
            </div>
            <textarea id="HIST_IL_M2_BLOB" rows="7"></textarea>
          </div>
        </div>
      </div>
    </div>

    <!-- RUN PHASE 1 -->
    <div class="row g-2" style="margin-top:14px;">
      <button id="runPhase1" class="btn primary">Run Phase 1</button>
      <span class="tiny" style="margin-left:8px;">Saved path:</span>
      <input id="phase1Path" type="text" readonly />
    </div>
  </div>

  <!-- PHASE 1 RESULTS -->
  <div id="phase1ResultsRow" class="grid grid-3">
    <div class="card">
      <div class="inline">
        <span class="pill">Mega Millions — 50 rows</span>
        <span id="mmCounts" class="tiny right"></span>
      </div>
      <div class="two-col">
        <div>
          <div class="tiny muted">Batch</div>
          <ol id="mmBatch" class="batch mono"></ol>
        </div>
        <div>
          <div class="tiny muted">Stats</div>
          <div id="mmStats" class="statline"></div>
          <div class="tiny muted" style="margin-top:8px;">Row indices</div>
          <pre id="mmRows" class="mono" style="min-height:90px;"></pre>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="inline">
        <span class="pill">Powerball — 50 rows</span>
        <span id="pbCounts" class="tiny right"></span>
      </div>
      <div class="two-col">
        <div>
          <div class="tiny muted">Batch</div>
          <ol id="pbBatch" class="batch mono"></ol>
        </div>
        <div>
          <div class="tiny muted">Stats</div>
          <div id="pbStats" class="statline"></div>
          <div class="tiny muted" style="margin-top:8px;">Row indices</div>
          <pre id="pbRows" class="mono" style="min-height:90px;"></pre>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="inline">
        <span class="pill">IL Lotto — 50 rows</span>
        <span id="ilCounts" class="tiny right"></span>
      </div>
      <div class="two-col">
        <div>
          <div class="tiny muted">Batch</div>
          <ol id="ilBatch" class="batch mono"></ol>
        </div>
        <div>
          <div class="tiny muted">Stats</div>
          <div id="ilStats" class="statline"></div>
          <div class="tiny muted" style="margin-top:8px;">Row indices</div>
          <pre id="ilRows" class="mono" style="min-height:90px;"></pre>
        </div>
      </div>
    </div>
  </div>

  <script src="/static/app.js"></script>
</body>
</html>
