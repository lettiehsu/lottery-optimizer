<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Lottery Optimizer</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <h1>Lottery Optimizer</h1>

  <!-- CSV upload -->
  <section class="card">
    <h2>Bulk import history (CSV)</h2>
    <div class="row">
      <input type="file" id="csvFile" />
      <label><input type="checkbox" id="csvOverwrite" checked> Overwrite existing data</label>
      <button id="btnImportCSV">Import CSV</button>
    </div>
    <pre id="csvResult" class="mono small"></pre>
  </section>

  <section class="card">
    <h2>Phase 1 — Evaluation</h2>
    <div class="grid2">
      <!-- Left: MM & PB -->
      <div>
        <h3>The 2nd Newest jackpots — with per-game dates</h3>

        <label>Mega Millions date (MM/DD/YYYY)
          <input id="mmDate" type="text" placeholder="MM/DD/YYYY" />
        </label>
        <div class="row">
          <input id="mmPreview" type="text" placeholder="[[mains..], bonus]" />
          <button id="btnRetrieveMM">Retrieve</button>
        </div>

        <label>Powerball date (MM/DD/YYYY)
          <input id="pbDate" type="text" placeholder="MM/DD/YYYY" />
        </label>
        <div class="row">
          <input id="pbPreview" type="text" placeholder="[[mains..], bonus]" />
          <button id="btnRetrievePB">Retrieve</button>
        </div>
      </div>

      <!-- Right: IL trio -->
      <div>
        <h3>IL Lotto — select dates then “Retrieve” (bonus is null)</h3>

        <label>Jackpot date
          <input id="ilJPDate" type="text" placeholder="MM/DD/YYYY" />
        </label>
        <div class="row">
          <input id="ilJPPreview" type="text" placeholder="[[mains..], null]" />
          <button id="btnRetrieveILJP">Retrieve</button>
        </div>

        <label>Million 1 date
          <input id="ilM1Date" type="text" placeholder="MM/DD/YYYY" />
        </label>
        <div class="row">
          <input id="ilM1Preview" type="text" placeholder="[[mains..], null]" />
          <button id="btnRetrieveILM1">Retrieve</button>
        </div>

        <label>Million 2 date
          <input id="ilM2Date" type="text" placeholder="MM/DD/YYYY" />
        </label>
        <div class="row">
          <input id="ilM2Preview" type="text" placeholder="[[mains..], null]" />
          <button id="btnRetrieveILM2">Retrieve</button>
        </div>
      </div>
    </div>

    <h3>Feeds (Lottery Defeated)</h3>
    <div class="grid3">
      <textarea id="feedMM" placeholder="Paste latest MM feed..."></textarea>
      <textarea id="feedPB" placeholder="Paste latest PB feed..."></textarea>
      <textarea id="feedIL" placeholder="Paste latest IL feed..."></textarea>
    </div>

    <h3>History blobs (top-down, newest first)</h3>
    <div class="grid3">
      <div>
        <div class="row">
          <input id="mmHistDate" type="text" placeholder="MM/DD/YYYY" />
          <button id="btnLoad20MM">Load 20</button>
        </div>
        <textarea id="mmHistBlob" class="mono" rows="15"></textarea>
      </div>

      <div>
        <div class="row">
          <input id="pbHistDate" type="text" placeholder="MM/DD/YYYY" />
          <button id="btnLoad20PB">Load 20</button>
        </div>
        <textarea id="pbHistBlob" class="mono" rows="15"></textarea>
      </div>

      <div>
        <p class="small muted">Use the 3rd-newest date for each, then “Load 20”.</p>
        <div class="row">
          <input id="ilJPHistDate" type="text" placeholder="MM/DD/YYYY" />
          <button id="btnLoad20ILJP">Load 20 (JP)</button>
        </div>
        <textarea id="ilJPHistBlob" class="mono" rows="7"></textarea>

        <div class="row">
          <input id="ilM1HistDate" type="text" placeholder="MM/DD/YYYY" />
          <button id="btnLoad20ILM1">Load 20 (M1)</button>
        </div>
        <textarea id="ilM1HistBlob" class="mono" rows="7"></textarea>

        <div class="row">
          <input id="ilM2HistDate" type="text" placeholder="MM/DD/YYYY" />
          <button id="btnLoad20ILM2">Load 20 (M2)</button>
        </div>
        <textarea id="ilM2HistBlob" class="mono" rows="7"></textarea>
      </div>
    </div>

    <div class="row mt">
      <button id="btnRunPhase1" class="primary">Run Phase 1</button>
      <input id="savedPhase1Path" type="text" placeholder="Saved Phase-1 path..." />
    </div>

    <pre id="runLog" class="mono small"></pre>
  </section>

  <script src="/static/app.js"></script>
</body>
</html>
